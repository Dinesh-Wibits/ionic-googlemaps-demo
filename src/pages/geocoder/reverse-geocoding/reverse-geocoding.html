<!--
  Generated template for the GeocodingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Reverse Geocoding</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <div id="contentView">
        <div id="contentsFrame">
            <section class="demo">
                <h3>Reverse Geocoding</h3>
                <p>
                  This plugin supports reverse geocoding. You can convert from latitude and longitude to address.<br>
                  <br>
                  In Android, this plugin uses Google Play Services feature, while in iOS this plugin uses iOS feature (not Google).
                  It means the geocoding results are different on Android and iOS.
                </p>
                <div class="map" id="map_canvas1"></div>
                <textarea readonly="readonly" class="prettyprint">
// Latitude, longitude -> address
Geocoder.geocode({
  "position": latLng
}).then((results: GeocoderResult[]) => {
  if (results.length == 0) {
    // Not found
    return null;
  }
  let address: any = [
    results[0].subThoroughfare || "",
    results[0].thoroughfare || "",
    results[0].locality || "",
    results[0].adminArea || "",
    results[0].postalCode || "",
    results[0].country || ""].join(", ");

  marker.setTitle(address);
  marker.showInfoWindow();
});
                </textarea>
            </section>


            <section class="demo">

                <h3>Multiple locations</h3>
                <p>
                  You can pass multiple location in one request as Array.
                  In this case, the method passes an instance of BaseArrayClass,
                  then you will receive each results one by one.<br>
                  <br>
                  The instance of BaseArrayClass triggers the <span class="highlight">finish</span> event
                  when all requests are completed.<br>
                  If any error occurs during the requests processing, the instance triggers <span class="highlight">error</span> event.
                </p>
                <div class="map" id="map_canvas2">
                  <span class="smallPanel"><button ion-button (click)="onButton2_click($event)">Click here!</button></span>
                </div>
                <textarea readonly="readonly" class="prettyprint">
// Geocode multiple location
Geocoder.geocode({
  "position": [
    { "lat": 43.031873, "lng": -71.073203 },
    { "lat": 42.989763, "lng": -70.932044 },
    ...
    { "lat": 42.455468, "lng": -71.064841 },
    { "lat": 42.453613, "lng": -71.233316 }
  ]
}).then((mvcArray: BaseArrayClass<GeocoderResult>) => {

  mvcArray.one('finish').then(() => {
    console.log(mvcArray.getArray());
  });
});
                </textarea>
            </section>
        </div>
    </div>
</ion-content>
