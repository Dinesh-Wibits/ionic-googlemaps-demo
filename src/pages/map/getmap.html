<!--
  Generated template for the MapGetMapPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Map/getMap</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <section class="demo">
      <h3>Create a map</h3>
      <p>
          After the <span class="highlight">ionViewDidLoad()</span>, you can create maps using <span class="highlight">googleMaps.create()</span>.
      </p>
      <div class="map" id="map_canvas1"></div>
      <textarea class="prettyprint" id="map_canvas1_code">
import { Component } from '@angular/core';
import { IonicPage, NavController, NavParams } from 'ionic-angular';
import {
 GoogleMaps,
 GoogleMap,
 GoogleMapsEvent
} from '@ionic-native/google-maps';
import { Platform } from 'ionic-angular';

@IonicPage()
@Component({
  selector: 'page-map-get-map',
  templateUrl: 'map-get-map.html',
  providers: [
    GoogleMaps
  ]
})
export class MapGetMapPage {
  map: GoogleMap;

  constructor(public navCtrl: NavController, public navParams: NavParams, private googleMaps: GoogleMaps) {}

  ionViewDidLoad() {
    console.log('ionViewDidLoad MapGetMapPage');
      this.loadMap();
  }
  loadMap() {
    this.map = this.googleMaps.create('map_canvas1');

    // Wait the MAP_READY before using any methods.
    this.map.one(GoogleMapsEvent.MAP_READY)
      .then(() => {
        console.log('Map is ready!');

      });
  }

}
      </textarea>
  </section>


              <section class="demo">
                  <h3>Create a map with initialize options</h3>
                  <p>
                      You can specify the map options with <span class="highlight">getMap()</span> method.
                  </p>
                  <div class="map" id="map_canvas2"></div>
                  <textarea class="prettyprint">
loadMap() {
  this.map = this.googleMaps.create('map_canvas2', {
    'mapType': GoogleMapsMapTypeId.HYBRID,
    'controls': {
      'compass': true,
      //'myLocationButton': true,
      'indoorPicker': true
    },
    'gestures': {
      'scroll': true,
      'tilt': true,
      'rotate': true,
      'zoom': true
    },
    camera: {
      target : [
        {lat:41.79883, lng:140.75675},
        {lat:41.799240000000005, lng:140.75875000000002},
        {lat:41.797650000000004, lng:140.75905},
        {lat:41.79637, lng:140.76018000000002},
        {lat:41.79567, lng:140.75845},
        {lat:41.794470000000004, lng:140.75714000000002},
        {lat:41.795010000000005, lng:140.75611},
        {lat:41.79477000000001, lng:140.75484},
        {lat:41.79576, lng:140.75475},
        {lat:41.796150000000004, lng:140.75364000000002},
        {lat:41.79744, lng:140.75454000000002},
        {lat:41.79909000000001, lng:140.75465},
        {lat:41.79883, lng:140.75673}
      ],
      'tilt': 60,
      'bearing': 50
    }
  });
  // Wait the MAP_READY before using any methods.
  this.map.one(GoogleMapsEvent.MAP_READY)
    .then(() => {
      console.log("--> map_canvas2 : ready.");

    });
}
</textarea>
</section>
<section class="demo">
    <h3>Add HTML elements on the map</h3>
    <p>
        You can put any HTML elements on the map.
    </p>
    <div class="map" id="map_canvas3" style="position:relative">
        <span class="smallPanel"><button ion-button (click)="onButtonClick($event)">HTML button1</button></span>
        <span class="smallPanel" style="position:absolute;bottom:1em;right:1em;"><button ion-button color="secondary" (click)="onButtonClick($event)">HTML button2</button></span>
    </div>
    <textarea class="prettyprint" style="height:250px">
loadMap3() {
  this.map3 = this.googleMaps.create('map_canvas3');
  this.map3.one(GoogleMapsEvent.MAP_READY)
    .then(() => {
      console.log("--> map_canvas3 : ready.");
    });
}

onButtonClick(event) {
  console.log(event);
  alert(event.srcElement.innerText + ' is clicked');
}
</textarea>
<textarea class="prettyprint" style="height:100px">
  <div class="map" id="map_canvas3" style="position:relative">
      <span class="smallPanel"><button>HTML button1</button></span>
      <span class="smallPanel" style="position:absolute;bottom:1em;right:1em;"><button>HTML button2</button></span>
  </div>
</textarea>
</section>
</ion-content>
