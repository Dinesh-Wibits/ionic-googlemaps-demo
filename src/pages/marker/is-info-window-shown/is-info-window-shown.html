<ion-header>

    <ion-navbar>
        <ion-title>Marker/setInfoWindowAnchor()</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <section class="demo">
        <p>
            Return true if the infoWindow is shown on the marker.
        </p>
        <div class="map" id="map_canvas">
            <table style="margin:1em;width:100px;">
                <tr *ngFor="let marker of data">
                    <th>{{marker.title}}</th>
                    <td nowrap id="marker1">{{marker.showInfo ? "open" : "close"}}</td>
                </tr>
            </table>
        </div>
        <textarea class="prettyprint" readonly="readonly">
loadMap() {
  ...

  this.markers = this.data.map((markerOpts: MarkerOptions, idx: number) => {
    let marker: Marker = this.map.addMarkerSync(markerOpts);
    marker.set('idx', idx);
    marker.on(GoogleMapsEvent.INFO_OPEN).subscribe(event => this.onInfoOpenClose(event));
    marker.on(GoogleMapsEvent.INFO_CLOSE).subscribe(event => this.onInfoOpenClose(event));
    return marker;
  });
  console.log(this.markers);
}

onInfoOpenClose(params: any[]) {
  let marker: Marker = params[0];
  let idx: number = marker.get('idx');
  let status: string = this.markers[idx].isInfoWindowShown() ? 'open': 'close';
  console.log(status + ' ' + idx);
  this._ngZone.run(() => {
    this.data[idx].showInfo = this.markers[idx].isInfoWindowShown();
  });
}
      </textarea>
    </section>

</ion-content>
